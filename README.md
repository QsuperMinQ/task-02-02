## 一、简答题

### 1、Webpack 的构建流程主要有哪些环节？如果可以请尽可能详尽的描述 Webpack 打包的整个过程。

#### (1) 初始化参数
根据用户在命令行窗口输入的参数以及 webpack.config.js 文件的配置，得到最后的配置
#### (2) 开始编译
根据上一步得到的最终配置初始化得到一个 compiler 对象，注册所有的插件 plugins，插件开始监听 webpack 构建过程的生命周期环节，会在插件执行的生命周期做相应处理，然后开始执行编译。
#### (3) 找到入口文件
根据配置文件中的 entry 入口，解析入口文件中的模块依赖，构建依赖关系树。
#### (4) 编译模块
递归依赖关系树，根据文件类型和loader配置，调用相应的loader加载器去加载模块，直到项目中依赖的所有模块都经过了本步骤的编译处理。

编译过程中，插件会在相应的生命周期做处理， 比如：clean-webpack-plugin 自动清除之前的编译文件，html-webpack-plugin 自动生成html文件，UglifyPlugin 会在 loader 转换递归完对结果使用 UglifyJs 压缩覆盖之前的结果
#### (5) 完成编译并输出
递归结束之后，得到每个文件结果，包含转换后的模块以及他们之间的依赖关系，根据 entry 和 output 等配置生成代码块 chunk。根据 output 输出所有的 chunk 到相应的文件目录。


### 2、Loader 和 Plugin 有哪些不同？请描述一下开发 Loader 和 Plugin 的思路。
#### Loader 和 Plugin 的不同点：
* Loader 用于实现各种类型资源的加载和转换（编译转换代码、文件操作、代码检查）
* Plugin 解决其他自动化工作，比如，代码压缩，静态文件拷贝，清除编译文件，热更新等等

#### 开发Loader：
* 可以直接在项目根目录新建 test-loader.js （完成后也可以发布到 npm 作为独立模块使用）
* 这个文件需要导出一个函数，这个函数就是我们的 loader 对所加载到的资源的处理过程
* 函数输入为 加载到的资源，输出为 加工后的结果
* 输出结果可以有两种形式：第一，输出标准的 JS 代码，让打包结果的代码能正常执行；第二，输出处理结果，交给下一个 loader 进一步处理成 JS 代码
* 在 webpack.config.js 中使用 loader，配置 module.rules ，其中 use 除了可以使用模块名称，也可以使用模块路径

#### 开发Plugin
* Plugin 是通过钩子机制实现的，通过在生命周期的钩子中挂载函数实现扩展
* 插件必须是一个函或者是一个包含 apply 方法的对象
* 一般可以把插件定义为一个类型，在类型中定义一个 apply 方法
* apply 方法接收一个 compiler 参数，包含了这次构建的所有配置信息，通过这个对象注册钩子函数
* 通过 compiler.hooks.emit.tap 注册钩子函数，钩子函数第一个参数为插件名称，第二个参数 compilation.assets 就可以拿到此次的打包资源，做一些相应的逻辑处理。

## 二、编程题

### 1、使用 Webpack 实现 Vue 项目打包任务
>作业要求:提交一个项目说明文档，要求思路流程清晰。

具体任务及说明：

先下载任务的基础代码  百度网盘链接: https://pan.baidu.com/s/1pJl4k5KgyhD2xo8FZIms8Q 提取码: zrdd

这是一个使用 Vue CLI 创建出来的 Vue 项目基础结构

有所不同的是这里我移除掉了 vue-cli-service（包含 webpack 等工具的黑盒工具）

这里的要求就是直接使用 webpack 以及你所了解的周边工具、Loader、Plugin 还原这个项目的打包任务

尽可能的使用上所有你了解到的功能和特性

*代码在 vue-app-base,说明文档在 vue-app-base/README.md*


## 三、学习笔记
在 notes/学习笔记.md

